<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FF STORE | Ø¹Ø±ÙŠÙ† Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        :root { --main-gold: #ffcc00; --fire-red: #ff4b2b; --dark-blue: #0b0e14; }
        body {
            margin: 0; background-color: var(--dark-blue); color: white; font-family: 'Cairo', sans-serif;
            background-image: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://wallpaperaccess.com/full/1192102.jpg');
            background-size: cover; background-attachment: fixed;
        }
        .container { max-width: 500px; margin: auto; padding: 20px; text-align: center; }
        .card { background: rgba(30, 37, 48, 0.9); padding: 20px; border-radius: 15px; border: 1px solid var(--fire-red); margin-bottom: 20px; }
        .wallet-box { background: var(--fire-red); color: white; padding: 10px; border-radius: 10px; font-weight: bold; font-size: 20px; margin-bottom: 15px; }
        input, select { width: 100%; padding: 12px; margin: 10px 0; border-radius: 5px; border: none; background: #0f172a; color: white; }
        .btn { width: 100%; padding: 12px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; transition: 0.3s; margin-top: 10px; }
        .btn-buy { background: linear-gradient(to right, #ff4b2b, #ff416c); color: white; }
        .whatsapp-btn { background: #25d366; color: white; text-decoration: none; display: block; padding: 10px; border-radius: 5px; margin-top: 20px; }
        .offer { border-bottom: 1px solid #334155; padding: 10px 0; }
    </style>
</head>
<body>

<div class="container">
    <h1 style="color: var(--fire-red); text-shadow: 2px 2px 5px black;">FF STORE ğŸ’</h1>
    
    <div class="card" id="wallet-section">
        <div class="wallet-box">Ù…Ø­ÙØ¸ØªÙƒ: <span id="balance">0</span> Ø¬.Ø³</div>
        <p style="font-size: 12px;">Ù„Ø´Ø­Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¯ÙŠØ± Ø¹Ø¨Ø± Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨</p>
    </div>

    <div class="card">
        <h3>Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ù†Ø§Ø±ÙŠØ© ğŸ”¥</h3>
        <div class="offer"><span>110 Ø¬ÙˆÙ‡Ø±Ø© ğŸ’</span> - <b>3800 Ø¬.Ø³</b> <button onclick="processPurchase(110, 3800)" style="float:left;">Ø´Ø±Ø§Ø¡</button></div>
        <div class="offer"><span>231 Ø¬ÙˆÙ‡Ø±Ø© ğŸ’</span> - <b>7600 Ø¬.Ø³</b> <button onclick="processPurchase(231, 7600)" style="float:left;">Ø´Ø±Ø§Ø¡</button></div>
        <div class="offer"><span>583 Ø¬ÙˆÙ‡Ø±Ø© ğŸ’</span> - <b>18500 Ø¬.Ø³</b> <button onclick="processPurchase(583, 18500)" style="float:left;">Ø´Ø±Ø§Ø¡</button></div>
    </div>

    <div class="card">
        <h3>Ø¹Ø±Ø¶ Ø®Ø§Øµ: Ø¨ÙŠØ¹ Ø­Ø³Ø§Ø¨Ø§Øª ğŸ®</h3>
        <select id="acc-level">
            <option value="40-50">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø³Ø§Ø¨ (40 - 50)</option>
            <option value="50-60">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø­Ø³Ø§Ø¨ (50 - 60)</option>
        </select>
        <button class="btn btn-buy" onclick="orderAccount()">Ø·Ù„Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¢Ù†</button>
    </div>

    <a href="https://wa.me/249118801850?text=Ø³Ù„Ø§Ù… ÙŠØ§ Ù…Ø¯ÙŠØ± Ø¯Ø§ÙŠØ± Ø§Ø´Ø­Ù† Ù…Ø­ÙØ¸ØªÙŠ" class="whatsapp-btn">ğŸ’¬ ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¯ÙŠØ± (Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯)</a>
</div>

<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ (Ø§Ø³ØªØ¨Ø¯Ù„Ù‡Ø§ Ù…Ù† ØµÙˆØ±ØªÙƒ Ø±Ù‚Ù… 1000010375)
    const firebaseConfig = {
        apiKey: "AIzaSy...", 
        authDomain: "ffstore-a008a.firebaseapp.com",
        databaseURL: "https://ffstore-a008a-default-rtdb.firebaseio.com",
        projectId: "ffstore-a008a",
        storageBucket: "ffstore-a008a.appspot.com",
        messagingSenderId: "993784923560",
        appId: "1:993784923560:web:8a57e3f608101a93325608"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const auth = firebase.auth();

    // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø­ÙØ¸Ø©
    auth.onAuthStateChanged(user => {
        if (user) {
            db.ref('wallets/' + user.uid).on('value', snap => {
                document.getElementById('balance').innerText = snap.val() || 0;
            });
        }
    });

    async function processPurchase(amount, price) {
        const user = auth.currentUser;
        if (!user) return alert("Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø£ÙˆÙ„Ø§Ù‹!");
        const snap = await db.ref('wallets/' + user.uid).once('value');
        const bal = snap.val() || 0;
        if (bal >= price) {
            await db.ref('wallets/' + user.uid).set(bal - price);
            await db.ref('orders').push({ email: user.email, uid: user.uid, type: "Ø¬ÙˆØ§Ù‡Ø±", amount: amount, time: Date.now() });
            alert("ØªÙ… Ø§Ù„Ø´Ø±Ø§Ø¡! Ø·Ù„Ø¨Ùƒ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°.");
        } else { alert("Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ!"); }
    }

    function orderAccount() {
        const lv = document.getElementById('acc-level').value;
        alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…Ø³ØªÙˆÙ‰ " + lv + " Ù„Ù„Ù…Ø¯ÙŠØ±.");
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙˆØ¯ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§
    }
</script>
</body>
</html>
